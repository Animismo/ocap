sudo: false
language: node_js
node_js:
- '12'
branches:
  only:
  - main
script: make travis
deploy:
- provider: script
  skip_cleanup: true
  script: bash ./scripts/publish.sh
  on:
    branch: main
    node_js: 12
env:
  global:
    - ALIYUN_ENDPOINT=http://39.98.93.191/admin
    - ALIYUN_ACCESS_KEY=z1aWXyf27QaUtAAT6wv4t5sL4visgBhRBPb
    # ALIYUN_ACCESS_SECRET
    - secure: G0tmwH+/ZQgOOS2y+H+A4UZZtBI62JnsrYTAiBT/PYflnTXdlPZT4mhPYuOrfKFCXTM89l7J27MbGtoUHcLYSqMiARVoethvXWuL+aMHvqgPWJfieSUO/PKz6L4hXfcB9tR60JRVN9TaVGpC0hdkTlURmGpaAzb3ZVFagm6vkrwwq19jhfJng4Zzo52p5bpq5+Avo/nXXoFDUf9ag449ugt2J1iakdu0ssYQeJb8g/XeHj/O+fbJDQNZqEarlaMsOoxD59Z9ZdVAuZ490oK8aCrEAhooV1dhTLAk4DohXKsD+s/50L+qRGdzAIJNnk7IyClxsnEt5Lzqv+7sjG5s3rXxyKVxC6NSm8hnOF1oMxpRHKJ14belTyMeQ1wvJ0ulQoD1SExwdoZg8EueqyXJLMYZBsCo3plJR6obK5EqFVIXmmOoPgbOlWclhJfHRaSar9v6+sLJB7P+9ZXamde+umvIaraDm3FRLDceN2+z2owDU0eSCY9Hh3ck4D9Q3ySYoaw+Tjv/hzAryRBL+mmf0SvLH+6JVkCWJs5f4hzaRjARC96dvhKW11GsazumDIxheo2tU3WUxW8YGxq3plplrD1nD7TT/8K9jS1pX2E+DXMZ66yHl41XTs+cpllpnPLIhMKIHvmcj5REYr4sW4jh7Hn4EOSRpcCwWEeLt7JVYxU=
    - AWS_ENDPOINT=http://54.213.55.12/admin
    - AWS_ACCESS_KEY=z1W9k2T7XTddPMtArMs7gs6pJYvsN63dggE
    # AWS_ACCESS_SECRET
    - secure: Ogr65YCo/JEjokaKM8PAbOg9F0XmLY1Dt7yhdp9L7vEWx2rFNeGTaE6Uk1ZVcGAFu8XEh36WDdtCnA8p4gpMANXaz6zzUkyZ1ulK2akbgaVTcPdkafFSADjzQrdpAbSR2CecowrJFE2e3tx71GOc8Y1MKm54c6JQic1Dm+I2EZHyOHPJd6EH4wbzeBm0peG6VO9jLBPka/EDbc6U8LMVQB1g8j+ulbhIL9L8AAiiz4ZVc+ty3iWSa/SQ1FuGohuKQRWa0sLA0Cz5V3FXFu0ppmNLFS80lT+l+dhtUb8goRDArIQYZYI+ZglwOud/57L57TIw1C/rRwIWuIJTPuEhNjw+qJyyES5jEA1GfQz+N7I6aGmRMCDYqFiLHW0HhWK/j3RV9xIJi7ejzn8tYuk6y8ye3tCdk77VGLE2EgpyzKZXrGbzxP63miX5cyKa5BrV97YCFPdqG0wOhhh1G7ZDoDiiVbUyGaRGLj/zbmXYHvajtoShUe7AtHyyOnWwYZcimoNEO8kyZC93WsJRVcErc54GYe/Dp0hJmxw22HJZ5jcc2T/yaKqe+5DDldeNYsPyVFWFQffhNa4ac1FWIduqeUZ7csMinJgTMqxbpRS505A5mkNtLa6nnCbf49OlYdZtalEYNSS74zY4zYQtixUzlRVIBEqSmsMRtFNkkt5XweY=
    # GITHUB_TOKEN
    - secure: xCcfmBnHZ4N+hWa85uAZ6N1p9IM3o/0uJLAecmCA97BWL+bBpRqTM1vsoa43hc3IdFgNu4TguGWZvzIocME9gyUtHyZ2Zkrx8jdXPuz+968AIG3IHcGg1mQwdtrRkxRlzdIo2rJZHJ54XI1G/KnSL/5hGbzxK9zpuvtbP1HIv+HLDjl5Tc4DXvlc4R7CpRt0AwFJNF2QXcScrptW+UbIfLw9IdsQ0/INwyrJfxxEBwHLK8WAuzuIz21CsyspMnat4zBPaTZihDSsSje2v2G8Q3AVmpcMzJPDs5bG3VmuNWDFAmJqOugniZhDODbsNE1TJPJ8zxaV8Rx0sqAk6yzbt8XKCtObOLNfP7Vxzqj7qLlPxd9tVAw3IdkLL3H7Y7ku90B/HRC8TO7mn5VHKj00G1Zt/HqXnVvH4VdgZgmYmxexePLGObedCQYW4YumyHQjMeMSYfmmSuED9HMAEr4dgXT4+LShcihS6fHkr+J7/vQMr7V6n+IlcF2vX5Hc0ZD3sxImy/VXYLjkub4M188UBIvvoMrBV0wR6Dv0u332RCN9ub4g47Ng1uqeiIzqAzNqqvg2UvsJoPom54XlYf3Px1IkJt8sPhJ3JKXsb5VOl8qlm4vbkLm6VbVoNEnZyfX11dLXqzfZN9UyGfq8FiCIg+f3kVCSenC4q3xvDKSuewE=
    # NPM_TOKEN
    - secure: rsz/Yne9Ozq5JYPdhEY6WONV/XlGrzAxJIwMSAaVtFPBO1XYZycuq6q+/e9nqnpz0nkouMfaJVOOlKVQKniHVqNM3KMVmBMV1OnHJItUbt4vQFzSR+wK6sXUdWaGZKxi46xdtrfVrBEF8Pu25kSSBLBhNuU0R6zXHEvNPKxcZJwy1xiVFodjzBdAgZrI6vDLbL5JGupSr2x0zsmkm+K7+RAK2lpNNUbdqEkqoNFlvh6QNMTJKPEzvWgM6KYwEskUIkLJmSu1YLGA6WcZPw9wBQmXDI/83IHTYaGPOIc4G48Yhn/1ScLzgzMF2Z32DueP/74wXovMl96lrP8qgHOR5vOzb0IMCh06c5HpGZA7Ygw+dUKHeiRWSufxVDwzsLIaLx93Vn2xqoa4OSbQflARmkLBtSanAxPW3kequmBE69sM7mngVxXWB9AL2FxX9XG1AbP7L4Y8etLNIwlGp0wptS5QIIkRGcpmnUoHzG8YRRTuBUocErk/MUhF9q904CiMTtda+PUiXM5cvh6/KuoHPt9AqMe8AOSS/DiLbDSUHAf4rIvXYvOcTFZMR44+1jNFJ027lfaZPvWLXarXG3Zzxv2ZyBTPKyXgivLBJRpEiHBEp6zohwNAqDoFGEREhFm0yfjHvXXZGw5GTy+vzNBCO5Gk+YGOux+dDjGDPQgUfug=
    # SLACK_WEBHOOK
    - secure: qiZgaT8r1O4ztrac96ML6x88eSntFui1ZG/mUPZEWAm3HK7O3QetqrReSWRcaTq8GD34jrQB7BvJa+CCFnde7tAAjoOYgqe9W95WYGCyKMHJj4YXYwynzl3tf+GG0PUQn4XqMQQ9Oy08YW1sUDgFEqzjWkKYCwsLvjMWLqTRT5PdtplrQopB+Oj4SqjeVVyOjWYPIJ6+pkpk05YCTDrB1kx519hD2g6ulnIbKPmyzDWth6b+uxNHaMPrU/eULLO3lFmiWnzx29m1kb1cEUbzIuB/LIXJ2NZqgVCk34WXmsMVZQs57SgutpN42hSyS1AG9jGAOvfB41EuSceG+M97FS9JvuZ5RHsCfZcuyNwwmEurGBVtk4DYxWsYygTRzp/UCo0sscwhGQshdlzTdPiMCBU5DOeXD2c23/o7yOpTohwblXYDqjUqGLNYJXR06Gz8c/AyFRSR0wOz8820LvTGUCgHUMYuVkKOGh3RsaztwR5fPKX3qiEo011paF8e0mbx0WcKejHml1RdYIFueZablQ4nAZYPaVmrfMp5Qk50LtzhUBfJ8NYcZSepqQqehy3FPNy43yIfwt1k8rBIWiYACRfHUB1CAK8fiDW9Hm5VoApt97AUPGMr3JD0xPB70QxUNy296xy6sXqsyfi/eDfX1X/nrDEjgNEBrZY5eg6gvkA=
