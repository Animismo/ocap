sudo: false
language: node_js
node_js:
- '12'
branches:
  only:
  - main
script: make travis
deploy:
- provider: script
  skip_cleanup: true
  script: bash ./scripts/publish.sh
  on:
    branch: main
    node_js: 12
env:
  global:
    - ALIYUN_ENDPOINT=http://39.98.93.191/admin
    - ALIYUN_ACCESS_KEY=z1aWXyf27QaUtAAT6wv4t5sL4visgBhRBPb
    # ALIYUN_ACCESS_SECRET
    - secure: uLUf365zi3poJKopQ2HgIQmTVPmzZi57cxyOHScbmga/43eu70i6QODhy2lTeRQgDvQ2nlJhT6zNpOk+znhqC9tj8CVjItt/rPGrFrYG5pzRla09d7IJggl3ssL453rWdlmCTzEjxchlHusGFydCith2g6o4Y+jHTe6Xv039FQOKigfE4wDbIWfePLKn1WHe2KhFLJWqeSyWzoql02NHSxvQpiIIy7XBKxFiv350ZUIyFoDO3MdQLFHuvARtysaCyUCvvZaKf9pQ3tJNQONfd903oNdV/GqARFHeqKCreMRD7cI+HEefBTJhbymkdJyiGokIZVf8CEJkaCVvbHhvQo9z/GBj7wXEML95+EOrYGt4Sd5tbnYST/mVjlPUAyRAZZoH4TBwOV95Luzxaijd0UVpu9rU9yidk9w19ywmYWFRFtmfdvm2fZvjDU5JHWhuLWZ76UaGwMute46i/I1Kfo9hTcLRo3gATKNrL6tAkNLoLThcSC2+82e/B4yTyKCCK01VJWEZzFKTvDlDLdP36lMzRkHW5FyBSS1E4BWefyQzq5q/LuZTcTpShQ+Uz2ixX/xm8/n5bqidCJ8Dy7Ndrwy0iIiZVNdfqRLwrWBvwJH6PyCvZCFsQHccluLBR3GzVZWU1MqD6TteQW4S8inaphUz3zsPgd0WcH5L+JkxpYo=
    - AWS_ENDPOINT=http://54.213.55.12/admin
    - AWS_ACCESS_KEY=z1W9k2T7XTddPMtArMs7gs6pJYvsN63dggE
    # AWS_ACCESS_SECRET
    - secure: kymQq6gRv+z8yUlTClzT8HCiYtJKhdeJRVEjZC0hQLw9ut7ch5zyiQ8ke0zqQz3jHutWPCrfg1799QEYUWrPhaRXdRDwR64NohP9iJGnnqMw57eKfTfIFB1C1eVjwYxj1Ip6dyrc78aGK8uM5j7KlqmcmnefnEVaM1s3DsDEBLvUuzxXYsz8gfwIpC4Ab+gyQNEaGnkANLmJ3v8b4jcVGXgwZYEW5nQMKDSBCjV5cyBPk9k9CpBdDq/LHHoO/AHTbTSQhKfy0AiFQb9GQIJafzlKgyX9ocx9yFKZOugxSWZNqAEDtFUOZz7fd2nV/0fsbHHHklty3XuSczDIiaNvpIuD3zAKP+avxNl2CgVhafoc+8XU9lq60dlQVy02gDveMQZ9kyCahTI3SMYe8PrCdQyXSXxVFSbXTQ5i+qtA2StBirH3LshpjVU4Ov/pGHdWHf3qY7Dgfjwa1t9908oQJRSF6LZ+8XcThZ2moaMuhDNtrkTSXJkxOOLvPkH+OsX6lvp4RW5KKPKb9iXmgANAvWkr/eTxq5SoswUAeOHc4IF3ph9VyPiQiib3jjRYjC04vYA0/aSSraohyVS2RPtzFczwiDq3mDHKquJBamE3P5K/fEvctlBtnPwO2UssVXlYDSQ1HX7cdOG4wu6gOYH5Z+Ce0DTL/qOJuAlykg+NRbQ=
    # GITHUB_TOKEN
    - secure: QNkcXiEhbd6zCnDPUiKzwiK9lZVWCn/6eelvKhjjp0sfzpB3quB1Hyrz7mGqYu2/cDbsrU76VHgkSr5BKXpLT2dpiu7InBgoAd36FzTK+0mjNZBcGcRwXP/BZbo4hWihtMOCo2UQ+Z2D1vc8TmY9VhsHnHn9TeGxt+hREyvSWzSO2WZ44SHTvuzj+nv90CWx2Geld2bDzGWZbwyhJ8OSf5eLQP1wDT2FQ75z4hmKbYHRjfQY5+AEumSwp4BHOR7ni2eocP+pWkz1mHov5up5T8lq/0yQkJNXy0fMmxY2Fi4v1GnsooXo0JkrOwJjb4NEtDQRWCe47DTEAhot12TPBDKNSK/iOvVvBBP9Dj611dY7ERwdQeTal6bmFXTiaSHaL8p2C1rjyqz0JbA089Ggpt+Ghu6kD/FiWfxVvPHrRNOuVpdvX1blsMBDvQPeWTq4m/dU+YDK5lrp99H3KmglRYXatjpmn84d897I/D7LizwfDmLqxlneyG1GdhkxCL6pWJISDYtDFJTF4vX9fKFUCTfPzUMZ9fpPg6ayQh0I3FhSvpXaNg7Ak3Pob4Gxv6/HO3KWemMfE8psJakA9leUIYQxQ22/GG8ee8BjNW1Mhd9LmpOuFOP5q7DkFsQTk946jwybZs4twIoP3J6XbDcV1nUblL2Y56rVDb5Z4ZRrErk=
    # NPM_TOKEN
    - secure: CX8mjM1OouO+g1eKqMjQrPIf3+tV0Zzch62rfNY9O5XeflAeivwnOAAFVf4nkT2Uwz1X7HtnYZewzIl1xqFZ5O1jOg66fc+qHpRDjzBZ5VokJSOife65ruuSf4XWwTQtjSSAjQ7XcFdB9/KcwNVYP1XeE7XShjbMfTbM59ahfHcQXmZ6UKqvtio+PgEVhDIQUXVKWkCwh6wCf0to1bx/bXF9J7bKlYU1y56BNy0dvt/d1T8LChJky8k8y4G2vwfUBu3Zc8hNKLv4dhxuV83IXPp1/BnWOjzAnIhtPHS05Zu0FlhRLjb1HE9OI/FSf29anlN0ccSIdHiHHjUHwI0r9BgblaQ4rCUFtQeWBx5NaotcMq55ugdHoLQMdVWzYt9xA/Bauwzn51HwLnBnZLFCYZGd2/QE7U2RfkaRDBHX37KmORUFE7n8hGNLPJR1V9E53cWjKHy+ndDbTD08lBkS+JbzZaPw4RsyuTmPvXrYrDwg7mSzn2OMloYfaNXeOSzt+l5GtS9BU2oy/2fQezZtmZsyw+7ZUKWdChR4ywDzEEWiQq/xFO1ZBtlLQw/oL6le4yCAJsmPpMtLmXGiZ5hnP68rkEi4BRBGoCbEwPXdJapFzWEb2u5dKwchEHHO8fnvfxavaqjT9NVp1Jm5Lj1Un9isCnT2BFspWU65sTy++OE=
    # SLACK_WEBHOOK
    - secure: IpWI2wHT+w2J8AK0AqTQw1dXRaQH7TEBjh4DiuePsMwMResfl8RU9nvczPZIzr07LTfDt4/1tzDBcyUTBfsYgNn1HvtMECxHvN4xoNrCK9m5ZsHozbjb87OlABoMHH1Famg8KIPISS/8Vo0KvIDizytNHu8Nz78M9bc5xHbXnDMrRFFZrZ/0UCtrZnkIEdipJCl3k3XQbZZ8s8g0tVzoc4biCRMSw08BZNXPCDUbbsixxeSefPz15K0BtFaia+lwdmVfxAtgUsQ5e2L+m/QhnIHvF8XL/MfJgt2okKbPiQoqmdaTKvJBF3Gr8PvQaREP8xnzTsHbcxO9uzOdqEX1lWnrzCliEcHp1hx/XxJy2GKiEmdncmV25lgbp9Sx1yPhdCU964pWCx5LDScYgdH7NPSC9NPSoJgnFbbsDHEgg1+9kQvtYU2UScuYPtw7uM2VSZRUiOf89z/PTESo/+wVzGOMvbFbL20d2Gmqs9AE+e4gA52Y60tURM1TGHSBedeJYGKmcHgddr9WBuADQa4U8AOBLH5D6NsmrPBlmHYen2vbbMyw7ZaCyXzL4KPX75qmP1bDYIkl8Nbnozp6D5Kipgbjo5xwlRy5x2kgicj4KxBU99enl+qWaOF3eECxgvfRizLz/0RULTHfwoPZwVYApMEB/XUABkUzUlBFaGQem/4=
